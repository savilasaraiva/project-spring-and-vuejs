{"remainingRequest":"E:\\UFC\\NPI\\project-spring-and-vuejs\\vuetify-2-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\UFC\\NPI\\project-spring-and-vuejs\\vuetify-2-project\\src\\views\\User.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\UFC\\NPI\\project-spring-and-vuejs\\vuetify-2-project\\src\\views\\User.vue","mtime":1584229111927},{"path":"E:\\UFC\\NPI\\project-spring-and-vuejs\\vuetify-2-project\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"E:\\UFC\\NPI\\project-spring-and-vuejs\\vuetify-2-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\UFC\\NPI\\project-spring-and-vuejs\\vuetify-2-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgVkNhcmRXaWRnZXQgZnJvbSAiQC9jb21wb25lbnRzL1ZXaWRnZXQiOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnCi8vaW1wb3J0IHtjcmVhdGVOYW1lc3BhY2VkSGVscGVyc30gZnJvbSAndnVleCcKLy9jb25zdCB7bWFwU3RhdGUsIG1hcEFjdGlvbnN9ID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoJ3VzZXInKQoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ3VzZXInLAogICAgY29tcG9uZW50czogewogICAgICAgIFZDYXJkV2lkZ2V0CiAgICB9LAogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBkaWFsb2dEZWxldGU6IGZhbHNlLAogICAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgICAgdmFsaWQ6IHRydWUsCiAgICAgICAgaGVhZGVyczogWwogICAgICAgICAgICB7IHRleHQ6ICdOb21lJywgYWxpZ246ICdsZWZ0JywgdmFsdWU6ICdub21lJyB9LAogICAgICAgICAgICB7IHRleHQ6ICdFbWFpbCcsIHZhbHVlOiAnZW1haWwnIH0sCiAgICAgICAgICAgIHsgdGV4dDogJ0hhYmlsaXRhZG8nLCB2YWx1ZTogJ2hhYmlsaXRzJywgc29ydGFibGU6IGZhbHNlIH0sCiAgICAgICAgICAgIHsgdGV4dDogIkFjw7VlcyIsIHZhbHVlOiAiYWN0aW9uIiwgc29ydGFibGU6IGZhbHNlLCB3aWR0aDogIjglIiB9CiAgICAgICAgXSwKICAgICAgICB1c2VySW5kZXg6IC0xLAogICAgICAgIGRlZmF1bHRVc2VyOiB7CiAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgbm9tZTogJycsCiAgICAgICAgICAgIGVtYWlsOiAnJywKICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICAgICBoYWJpbGl0YWRvOiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgbGF6eTogZmFsc2UsCiAgICB9KSwKCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMubGlzdFVzZXJzKCksCiAgICAgICAgdGhpcy5saXN0Q291cnNlcygpCiAgICB9LAoKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgZm9ybVRpdGxlICgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZGlhbG9nRGVsZXRlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gIkRlbGV0YXIgVXN1w6FyaW8iOwogICAgICAgICAgICB9ZWxzZQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXNlckluZGV4ID09PSAtMSA/ICdOb3ZvIFVzdcOhcmlvJyA6ICdFZGl0YXIgVXN1w6FyaW8nCiAgICAgICAgfSwKICAgICAgICAuLi5tYXBTdGF0ZSgndXNlcicsIFsndXN1YXJpb3MnLCAndXNlciddKSwKICAgICAgICAuLi5tYXBTdGF0ZSgnY291cnNlJywgWydjdXJzb3MnLCAnY291cnNlJ10pCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICAuLi5tYXBBY3Rpb25zKCd1c2VyJywgWydsaXN0VXNlcnMnLCAnc2V0VXNlcicsICdhZGRVc2VyJywgJ3VwZGF0ZVVzZXInLCAnZGVsZXRlVXNlciddKSwKICAgICAgICAuLi5tYXBBY3Rpb25zKCdjb3Vyc2UnLCBbJ2xpc3RDb3Vyc2VzJywgJ3NldENvdXJzZSddKSwKICAgICAgICBlZGl0SXRlbSAoaXRlbSkgewogICAgICAgICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnVzZXJJbmRleCA9IHRoaXMudXN1YXJpb3MuaW5kZXhPZihpdGVtKTsKICAgICAgICAgICAgdGhpcy5zZXRVc2VyKGl0ZW0pOwogICAgICAgICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICAgICAgfSwKICAgICAgICBkZWxldGVJdGVtIChpdGVtKSB7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy51c2VySW5kZXggPSB0aGlzLnVzdWFyaW9zLmluZGV4T2YoaXRlbSk7CiAgICAgICAgICAgIHRoaXMuc2V0VXNlcihpdGVtKTsKICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgICAgIH0sCiAgICAgICAgY2xvc2UgKCkgewogICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuc2V0VXNlcih0aGlzLmRlZmF1bHRVc2VyKTsKICAgICAgICAgICAgICAgIHRoaXMudXNlckluZGV4ID0gLTE7CiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0VmFsaWRhdGlvbigpCiAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgfSwKICAgICAgICBzYXZlICgpIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkKICAgICAgICAgICAgaWYodGhpcy51c2VySW5kZXggPiAtMSkgewogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnVzdWFyaW9zW3RoaXMudXNlckluZGV4XSwgdGhpcy51c2VyKQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVc2VyKCkKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldFZhbGlkYXRpb24oKQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuYWRkVXNlcigpCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRWYWxpZGF0aW9uKCkKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmNsb3NlKCkKICAgICAgICB9LAogICAgICAgIHJlbW92ZSgpIHsKICAgICAgICAgICAgdGhpcy5jdXJzb3Muc3BsaWNlKHRoaXMudXNlciwgMSk7CiAgICAgICAgICAgIHRoaXMuZGVsZXRlVXNlcigpCiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTsKICAgICAgICB9CiAgICB9Cn0KCg=="},{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"User.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <v-card-widget enableActions :title=\"'Usuários'\">\r\n            <div slot=\"widget-header-action\">\r\n\r\n            </div>\r\n            <div slot=\"widget-content\">\r\n                <v-dialog v-model=\"dialog\" max-width=\"500px\">\r\n                    <template v-slot:activator=\"{on}\">\r\n                        <v-btn color=\"primary\" class=\"mb-2\" v-on=\"on\">Novo Usuário</v-btn>\r\n                    </template>\r\n                    <v-card>\r\n                        <v-card-title>\r\n                            <span class=\"headline\">{{ formTitle }}</span>\r\n                        </v-card-title>\r\n\r\n                        <v-form ref=\"form\" v-model=\"valid\" :lazy-validation=\"lazy\">\r\n                            <v-card-text>\r\n                                <v-container>\r\n                                    <div v-if=\"dialogDelete === true\">\r\n                                        <v-row>\r\n                                            <v-col cols=\"12\" sm=\"6\" md=\"12\">\r\n                                                Deseja deletar {{user.nome}}?\r\n                                            </v-col>\r\n                                        </v-row>\r\n                                    </div>\r\n                                    <div v-else-if=\"dialogDelete === false\">\r\n                                        <v-row>\r\n                                            <v-col cols=\"12\" sm=\"6\" md=\"12\">\r\n                                                <v-text-field type=\"text\" v-model=\"user.nome\" label=\"Nome\"></v-text-field>\r\n                                            </v-col>\r\n                                            <v-col cols=\"12\" sm=\"6\" md=\"12\">\r\n                                                <v-text-field type=\"text\" v-model=\"user.email\" label=\"Email\"></v-text-field>\r\n                                            </v-col>\r\n                                            <v-col cols=\"12\" sm=\"6\" md=\"12\">\r\n                                                <v-text-field type=\"password\" v-model=\"user.password\" label=\"Senha\"></v-text-field>\r\n                                            </v-col>\r\n                                            <v-col cols=\"12\" sm=\"6\" md=\"8\">\r\n                                                <v-select v-model=\"user.curso\" :items=\"cursos\" label=\"Curso\" item-text=\"nome\"\r\n                                                          item-value=\"id\" return-object>\r\n                                                </v-select>\r\n                                            </v-col>\r\n                                            <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                <v-switch v-model=\"user.habilitado\" :label=\"'Habilitado'\">\r\n                                                </v-switch>\r\n                                            </v-col>\r\n                                        </v-row>\r\n                                    </div>\r\n                                </v-container>\r\n                            </v-card-text>\r\n                            <v-card-actions>\r\n                                <v-spacer></v-spacer>\r\n                                <div v-if=\"dialogDelete === true\">\r\n                                    <v-btn color=\"blue darken-1\" text @click=\"remove\">Deletar</v-btn>\r\n                                    <v-btn color=\"blue darken-1\" text @click=\"close\">Cancelar</v-btn>\r\n                                </div>\r\n                                <div v-else-if=\"dialogDelete === false\">\r\n                                    <v-btn color=\"blue darken-1\" text @click=\"save\">Salvar</v-btn>\r\n                                    <v-btn color=\"blue darken-1\" text @click=\"close\">Cancelar</v-btn>\r\n                                </div>\r\n                            </v-card-actions>\r\n                        </v-form>\r\n                    </v-card>\r\n                </v-dialog>\r\n                <v-row>\r\n                    <v-col cols=\"12\">\r\n                        <v-data-table\r\n                                :headers=\"headers\"\r\n                                :items=\"usuarios\"\r\n                                :items-per-page=\"5\"\r\n                                class=\"elevation-1\">\r\n                            <template v-slot:item.action=\"{ item }\">\r\n                                <v-icon medium=\"\" color=\"success\" class=\"mr-2\" @click=\"editItem(item)\">edit</v-icon>\r\n                                <div v-if=\"item.habilitado === false\">\r\n                                    <v-icon medium=\"\" color=\"success\" @click=\"deleteItem(item)\">delete</v-icon>\r\n                                </div>\r\n                            </template>\r\n                            <template v-slot:item.habilits=\"{ item }\">\r\n                                <v-switch disabled v-model=\"item.habilitado\">\r\n                                </v-switch>\r\n                            </template>\r\n                        </v-data-table>\r\n                    </v-col>\r\n                </v-row>\r\n            </div>\r\n        </v-card-widget>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // @ is an alias to /src\r\n    import VCardWidget from \"@/components/VWidget\";\r\n    import { mapState, mapActions } from 'vuex'\r\n    //import {createNamespacedHelpers} from 'vuex'\r\n    //const {mapState, mapActions} = createNamespacedHelpers('user')\r\n\r\n    export default {\r\n        name: 'user',\r\n        components: {\r\n            VCardWidget\r\n        },\r\n        data: () => ({\r\n            dialogDelete: false,\r\n            dialog: false,\r\n            valid: true,\r\n            headers: [\r\n                { text: 'Nome', align: 'left', value: 'nome' },\r\n                { text: 'Email', value: 'email' },\r\n                { text: 'Habilitado', value: 'habilits', sortable: false },\r\n                { text: \"Acões\", value: \"action\", sortable: false, width: \"8%\" }\r\n            ],\r\n            userIndex: -1,\r\n            defaultUser: {\r\n                id: '',\r\n                nome: '',\r\n                email: '',\r\n                password: '',\r\n                habilitado: false\r\n            },\r\n            lazy: false,\r\n        }),\r\n\r\n        created() {\r\n            this.listUsers(),\r\n            this.listCourses()\r\n        },\r\n\r\n        computed: {\r\n            formTitle () {\r\n                if (this.dialogDelete) {\r\n                    return \"Deletar Usuário\";\r\n                }else\r\n                    return this.userIndex === -1 ? 'Novo Usuário' : 'Editar Usuário'\r\n            },\r\n            ...mapState('user', ['usuarios', 'user']),\r\n            ...mapState('course', ['cursos', 'course'])\r\n        },\r\n\r\n        methods: {\r\n            ...mapActions('user', ['listUsers', 'setUser', 'addUser', 'updateUser', 'deleteUser']),\r\n            ...mapActions('course', ['listCourses', 'setCourse']),\r\n            editItem (item) {\r\n                this.dialogDelete = false;\r\n                this.userIndex = this.usuarios.indexOf(item);\r\n                this.setUser(item);\r\n                this.dialog = true;\r\n            },\r\n            deleteItem (item) {\r\n                this.dialogDelete = true;\r\n                this.userIndex = this.usuarios.indexOf(item);\r\n                this.setUser(item);\r\n                this.dialog = true;\r\n            },\r\n            close () {\r\n                this.dialog = false;\r\n                setTimeout(() => {\r\n                    this.setUser(this.defaultUser);\r\n                    this.userIndex = -1;\r\n                    this.dialogDelete = false;\r\n                    this.$refs.form.resetValidation()\r\n                }, 300);\r\n            },\r\n            save () {\r\n                this.$refs.form.validate()\r\n                if(this.userIndex > -1) {\r\n                    Object.assign(this.usuarios[this.userIndex], this.user)\r\n                    this.updateUser()\r\n                    this.$refs.form.resetValidation()\r\n                }else{\r\n                    this.addUser()\r\n                    this.$refs.form.resetValidation()\r\n                }\r\n                this.close()\r\n            },\r\n            remove() {\r\n                this.cursos.splice(this.user, 1);\r\n                this.deleteUser()\r\n                this.close();\r\n            }\r\n        }\r\n    }\r\n\r\n</script>\r\n"]}]}